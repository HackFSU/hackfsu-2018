version: '2'
services:

    api:
        extends:
            file: .docker/base.yml
            service: api
        ports:
            - "8080:8000"
        volumes:
            - ./api:/usr/src/app
        environment:
            APP_DEBUG: "true"

    webapp:
        extends:
            file: .docker/base.yml
            service: webapp
        ports:
            - "3000:3000"
        volumes:
            - ./webapp:/usr/src/app

    db:
        extends:
            file: .docker/base.yml
            service: db
        environment:
            POSTGRES_USER: "hackfsu"
            POSTGRES_PASSWORD: "password"
        volumes:
            - ./pgdata:/var/lib/postgresql/data
